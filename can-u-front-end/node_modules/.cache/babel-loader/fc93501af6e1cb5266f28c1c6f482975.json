{"ast":null,"code":"import jwt from 'jsonwebtoken';\nimport cookie from \"react-cookies\";\nconst cookieToken = cookie.load(\"auth\");\nconst token = cookieToken || null;\nconst initialState = {\n  token: token,\n  loggedIn: !!token,\n  signupStatus: null,\n  user: ''\n};\n/**\n * Reducer for login state\n * @param {object} state\n * @param {object} action\n */\n\nexport default ((state = initialState, action) => {\n  let {\n    type,\n    payload\n  } = action;\n\n  switch (type) {\n    case \"LOGIN\":\n      console.log('reducer payload', payload);\n      return {\n        token: payload.data,\n        loggedIn: payload.loggedIn,\n        user: jwt.verify(payload.data, `sauce`)\n      };\n\n    case \"SIGN_UP_SUCCESS\":\n      return {\n        token: payload,\n        loggedIn: true,\n        user: jwt.verify(payload, `sauce`)\n      };\n\n    case \"SIGN_UP_FAIL\":\n      return {\n        signupStatus: payload\n      };\n\n    default:\n      return state;\n  }\n});","map":{"version":3,"sources":["/Users/nataliealway/devstation/401-backend/can-u-job-front-end/can-u-front-end/src/store/login-reducer.js"],"names":["jwt","cookie","cookieToken","load","token","initialState","loggedIn","signupStatus","user","state","action","type","payload","console","log","data","verify"],"mappings":"AAAA,OAAOA,GAAP,MAAgB,cAAhB;AACA,OAAOC,MAAP,MAAmB,eAAnB;AAEA,MAAMC,WAAW,GAAGD,MAAM,CAACE,IAAP,CAAY,MAAZ,CAApB;AACA,MAAMC,KAAK,GAAGF,WAAW,IAAI,IAA7B;AAGA,MAAMG,YAAY,GAAG;AACnBD,EAAAA,KAAK,EAAEA,KADY;AAEnBE,EAAAA,QAAQ,EAAE,CAAC,CAACF,KAFO;AAGnBG,EAAAA,YAAY,EAAE,IAHK;AAKnBC,EAAAA,IAAI,EAAE;AALa,CAArB;AASA;;;;;;AAKA,gBAAe,CAACC,KAAK,GAAGJ,YAAT,EAAuBK,MAAvB,KAAkC;AAC/C,MAAI;AAAEC,IAAAA,IAAF;AAAQC,IAAAA;AAAR,MAAoBF,MAAxB;;AACA,UAAQC,IAAR;AACE,SAAK,OAAL;AACEE,MAAAA,OAAO,CAACC,GAAR,CAAY,iBAAZ,EAA+BF,OAA/B;AAEA,aAAO;AACLR,QAAAA,KAAK,EAAEQ,OAAO,CAACG,IADV;AAELT,QAAAA,QAAQ,EAAEM,OAAO,CAACN,QAFb;AAGLE,QAAAA,IAAI,EAAER,GAAG,CAACgB,MAAJ,CAAWJ,OAAO,CAACG,IAAnB,EAA0B,OAA1B;AAHD,OAAP;;AAKF,SAAK,iBAAL;AACE,aAAO;AACLX,QAAAA,KAAK,EAAEQ,OADF;AAELN,QAAAA,QAAQ,EAAE,IAFL;AAGLE,QAAAA,IAAI,EAAER,GAAG,CAACgB,MAAJ,CAAWJ,OAAX,EAAqB,OAArB;AAHD,OAAP;;AAMA,SAAK,cAAL;AACE,aAAO;AACLL,QAAAA,YAAY,EAAEK;AADT,OAAP;;AAGJ;AACE,aAAOH,KAAP;AArBJ;AAuBD,CAzBD","sourcesContent":["import jwt from 'jsonwebtoken';\nimport cookie from \"react-cookies\";\n\nconst cookieToken = cookie.load(\"auth\");\nconst token = cookieToken || null;\n\n\nconst initialState = {\n  token: token,\n  loggedIn: !!token,\n  signupStatus: null,\n\n  user: '',\n\n};\n\n/**\n * Reducer for login state\n * @param {object} state\n * @param {object} action\n */\nexport default (state = initialState, action) => {\n  let { type, payload } = action;\n  switch (type) {\n    case \"LOGIN\":\n      console.log('reducer payload', payload);\n\n      return {\n        token: payload.data,\n        loggedIn: payload.loggedIn,\n        user: jwt.verify(payload.data, `sauce`)\n      }\n    case \"SIGN_UP_SUCCESS\":\n      return {\n        token: payload,\n        loggedIn: true,\n        user: jwt.verify(payload, `sauce`)\n\n      }\n      case \"SIGN_UP_FAIL\":\n        return {\n          signupStatus: payload,\n        }\n    default:\n      return state;\n  }\n};\n"]},"metadata":{},"sourceType":"module"}